{% extends "parent.html" %}

{% block body %} 

<div class="container py-5">
    <div class="row">
      <div class="col-md-6">
        <div class="text-center">
            <h2 class="mb-4">Upload an Image</h2>
            <form method="POST" enctype="multipart/form-data" class="p-3 border rounded bg-white shadow">
                {{ form.hidden_tag() }}
                <div class="mb-3">
                    {{ form.img.label(class="form-label") }}
                    {{ form.img(class="form-control") }}
                </div>
                <div class="d-grid">
                    {{ form.submit(class="btn btn-primary btn-lg fw-bold") }}
                </div>
            </form>
        </div>
            <div class="mb-3 text-center">
                <img id="file-preview" class="img-fluid rounded" style="display: none; max-width: 100%; max-height: 512px;" alt="Image Preview">
            </div>
            {% if outimgae %}
            <div class="mb-3 text-center">
                <img src="{{ url_for('static', filename='outputimgs/' + outimgae) }}" alt="Preview Uploaded Image" class="img-fluid border rounded mb-3" id="file-preview" style="width: 100%; max-height: 300px; object-fit: contain;">
            </div>
            {% endif %}
      </div>
  
      <div class="col-md-6">
        
        <div class="canvas-container">
          <canvas id="canvas" class="border" height="512" width="512"></canvas>
        </div>
        <!-- Zoom Buttons -->
        <div class="mt-3">
          <button id="zoom-in" class="btn btn-secondary">Zoom In</button>
          <button id="zoom-out" class="btn btn-secondary">Zoom Out</button>
        </div>
        <div class="mb-3">
            <label for="drawing-color" class="form-label">Drawing Color:</label>
            <input type="color" id="drawing-color" class="form-control w-75" value="#000000">
          </div>
          <div class="mb-3">
            <label for="drawing-line-width" class="form-label">Line Width:</label>
            <input type="number" id="drawing-line-width" class="form-control w-75" value="5">
          </div>
          <button id="toggle-draw-mode" class="btn btn-primary">Enter Draw Mode</button>
          <button id="clear-canvas" class="btn btn-danger">Clear Canvas</button>
      </div>
    </div>
</div>

{% endblock %}
